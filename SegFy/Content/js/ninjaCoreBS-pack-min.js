var _ncore={},$valFn;_ncore.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ENTER:108,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38};_ncore.initialize=function(n){$("body").hasClass("nc-binded")||($("body").addClass("nc-binded"),this.settings={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],dateFormat:"Y-m-d",timeFormat:"h:m:s",masks:{phone:"(999) 999-9999",cep:"99999-999",cpf:"999.999.999-99",cnpj:"99.999.999/9999-99",date:"9999-99-99",datetime:"9999-99-99 99:99:99",time:"99:99:99"},maskPatterns:{"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},ninjaGrid:{lblFooterPages:"Page {0} of {1}",lblFooterTotal:"{0} records",lblFooterFirstPage:"First",lblFooterLastPage:"Last",lblFooterNextPage:"Next",lblFooterPrevPage:"Previous",lblFooterRefresh:"Refresh",lblLoading:'<i class="fa fa-spin fa-cog"><\/i> loading...',lblTotalizeRow:"Total",customFormat:null},ninjaCombo:{defaultPlaceholder:"Select",searchPlaceholder:"Search"},ninjaSuggest:{defaultPlaceholder:"Search for...",noMatchFoundText:"No item founded."},ninjaUpload:{lblDefaultText:"Choose a file"},onReadForm:function(n,t){return t},onWriteForm:function(n,t){var i=$(n);return i.hasClass("date")&&t?dateFormat(t,{timeFormat:null}):(i.hasClass("nc-masked")&&i.blur(),t)},textUnhandledError:"Unhandled exception has occured.",textLoading:"Loading..."});typeof this.applySettings=="function"&&this.applySettings.bind(this)(n)};_ncore.applySettings=function(n){$(".integer",n).onlyNumbers();$(".ninjaUpload",n).ninjaUpload();$(".ninjaCheck",n).ninjaCheck();$(".ninjaCombo",n).ninjaCombo();$(".ninjaCalendar",n).ninjaCalendar();this.settings.masks&&($(".datetime",n).ninjaMask(this.settings.masks.datetime),$(".time",n).ninjaMask(this.settings.time),$(".date",n).ninjaMask(this.settings.masks.date),$(".yearmonth",n).ninjaMask(this.settings.masks.yearmonth),$(".cep",n).ninjaMask(this.settings.masks.cep),$(".cpf",n).ninjaMask(this.settings.masks.cpf),$(".cnpj",n).ninjaMask(this.settings.masks.cnpj),$(".phone",n).ninjaMask(this.settings.masks.phone));$(".decimal",n).ninjaMaskMoney();_ncore.validation.addMethod("date",function(n){return!n||!/Invalid|NaN/.test(new Date(n).toString())})};_ncore.uid=function(){for(var t=[],n,i=0;i<256;i++)t[i]=(i<16?"0":"")+i.toString(16);return n=crypto.getRandomValues(new Uint8Array(16)),n[6]=n[6]&15|64,n[8]=n[8]&63|128,t[n[0]]+t[n[1]]+t[n[2]]+t[n[3]]+"-"+t[n[4]]+t[n[5]]+"-"+t[n[6]]+t[n[7]]+"-"+t[n[8]]+t[n[9]]+"-"+t[n[10]]+t[n[11]]+t[n[12]]+t[n[13]]+t[n[14]]+t[n[15]]};String.prototype.limitTo=function(n){return n?this.length>n?this.substring(0,n)+"...":this:this};String.prototype.getNumbers=function(){return this.replace(/\D/g,"")};String.prototype.removeChars=function(n){var t=this,r,u,i;if(t.length==0)return"";for(r="",u=0;u<n.length;u++){for(i=0;i<t.length;i++)t[i]!=n[u]&&(r+=t[i]);t=r;r=""}return t};String.prototype.removeSpecialChars=function(){for(var t="àáâãäçèéêëìíîïñòóôõöùúûüýÿÀÁÂÃÄÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝ",r=new RegExp("["+t+"]","g"),i={},u=function(n){return i[n]||n},n=0;n<t.length;n++)i[t[n]]="aaaaaceeeeiiiinooooouuuuyyAAAAACEEEEIIIINOOOOOUUUUY"[n];return this.replace(r,u)};String.prototype.padLeft=function(n,t){var i,r;if(this.length>=n)return this;for(i=this,r=this.length;r<n;r++)i=t+i;return i};String.prototype.padRight=function(n,t){var i,r;if(this.length>=n)return this;for(i=this,r=this.length;r<n;r++)i=i+t;return i};Array.prototype.enumerate=function(){if(this==null)return this;for(var n=0;n<this.length;n++)this[n]._id=n+1;return this};Array.prototype.where=function(n,t){for(var r=[],u,i=0;i<this.length;i++)typeof n=="function"?n(this[i])==!0&&r.push(this[i]):(u=getProperty(n,this[i]),u==t&&r.push(this[i]));return r};Array.prototype.orderBy=function(n,t){function i(n,t,r,u,f){var c=u[f]=="desc"?1:0,e=getProperty(r[f],n),o=getProperty(r[f],t),l=!isNaN(+e-+o),s=l?+e:e.toLowerCase(),h=l?+o:o.toLowerCase();return(s=isDate(e)?new Date(e):e,h=isDate(o)?new Date(o):o,s<h)?c==0?-1:1:s==h?r.length-1>f?i(n,t,r,u,f+1):0:c==0?1:-1}if(typeof n=="undefined")for(n=[],x=0;x<this.length;x++)n.push(x);else typeof n=="string"&&(n=[n]);if(typeof t=="undefined")for(t=[],x=0;x<this.length;x++)t.push("asc");else typeof t=="string"&&(t=[t]);return this.sort(function(r,u){return i(r,u,n,t,0)})};Array.prototype.skipTake=function(n,t){var r=[],u=0,i;if(this.length>=n)for(i=n;i<this.length&&u<t;i++)r.push(this[i]),u++;return r};String.prototype.maskFormat=function(n){return n?stringmaskFormat(this,_ncore.settings.masks[n],_ncore.settings.maskPatterns):this};stringmaskFormat=function(n,t,i){var r=0,e="",u,o;if(!n)return"";if(!t)return n;for((i==null||i==undefined)&&(i={"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"}),u=0;u<t.replace(/\?/g,"").length;u++){var s=t[u],f=n[r],c=t.replace(/\?/g,"")[u],h=i[c];if(r>=n.length)break;else if(h)for(o=!1;!o&&r<n.length;)r++,new RegExp(h,"g").test(f)?(e+=f,o=!0):f=n[r];else e+=s,f==s&&r++}return e};elapsedTime=function(n,t){var f,e;if(n==undefined||n==null)return"--";var i=$.extend({units:{d:1440,h:60,m:1},returnType:"string"},t),o=[],u=[],r=Object.keys(i.units);for(f in i.units)e=Math.floor(n/i.units[f]),e>=1?(o.push(e+" "+f),u.push(e)):u.push(0),n%=i.units[f];if(o.length==0&&n>=0){if(u.push(n),n>=1)return"1 "+r[r.length-1];if(n>0&&n<1)return"less than 1 "+r[r.length-1];if(n==0)return"0 "+r[r.length-1]}return i.returnType=="string"?o.join(" "):i.returnType=="array"?u:void 0};isInt=function(n){return n%1==0};isNull=function(n,t,i){return n==null||n==undefined||n==""?typeof i=="function"?i(t):t:typeof i=="function"?i(n):n};isDate=function(n){return n instanceof Date};dateFormat=function(n,t){var u=null,r,f,s;if(!n)return"";typeof n=="string"?(r=/\/Date\((\d*)\)\//.exec(n),r&&(u=new Date(+r[1])),r=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})Z?/.exec(n),r&&(u=new Date(+r[1],+r[2]-1,+r[3],+r[4],+r[5],+r[6]))):isDate(n)&&(u=n);var o=$.extend({days:_ncore.settings.days,months:_ncore.settings.months,dateFormat:_ncore.settings.dateFormat,timeFormat:_ncore.settings.timeFormat},t),i="",e=u.getDate(),h=u.getDay(),l=o.days[h],c=u.getMonth()+1,a=o.months[c-1],v=u.getFullYear()+"";for(f=0;f<o.dateFormat.length;f++){s=o.dateFormat.charAt(f);switch(s){case"y":i+=v.substr(2);break;case"Y":i+=v;break;case"m":i+=c.toString().padLeft(2,"0");break;case"n":i+=c;break;case"M":i+=a.substr(0,3);break;case"F":i+=a;break;case"d":i+=e.toString().padLeft(2,"0");break;case"j":i+=e;break;case"D":i+=l.substr(0,3);break;case"l":i+=l;break;case"N":i+=h++;break;case"w":i+=h;break;case"S":i+=e%10==1&&e!="11"?"st":e%10==2&&e!="12"?"nd":e%10==3&&e!="13"?"rd":"th";break;default:i+=s}}if(o.timeFormat){var y=u.getHours(),p=u.getMinutes(),w=u.getSeconds();for(i+=" ",f=0;f<o.timeFormat.length;f++){s=o.timeFormat.charAt(f);switch(s){case"h":i+=y.toString().padLeft(2,"0");break;case"m":i+=p.toString().padLeft(2,"0");break;case"s":i+=w.toString().padLeft(2,"0");break;default:i+=s}}}return i};getQueryString=function(n){var r=document.location.href,u,i,t,f;if(r.indexOf(n+"=")>-1){for(u=r.split("?"),i=u[1].split("&"),t=0;t<i.length;t++)if(i[t].indexOf(n+"=")==0)return f=i[t].split("="),f[1];return""}return""};setQueryString=function(n,t){var i=window.location.href,r=new RegExp("([?&])"+n+"=.*?(&|$)","i"),u=i.indexOf("?")!==-1?"&":"?";return i.match(r)?i.replace(r,"$1"+n+"="+t+"$2"):i+u+n+"="+t};getHashString=function(n){var r=document.location.href,u,i,t,f;if(r.indexOf(n+"=")>-1){for(u=r.split("#"),i=u[1].split("&"),t=0;t<i.length;t++)if(i[t].indexOf(n+"=")==0)return f=i[t].split("="),f[1];return""}return""};setHashString=function(n,t){var i=window.location.href.split("#"),r,u;return i.length>1?(r=new RegExp("(^|&)"+n+"=.*?(&|$)","i"),u=i[1].indexOf("=")==-1?"":"&",i[1].match(r)?i[1].replace(r,"$1"+n+"="+t+"$2"):i[1]+u+n+"="+t):n+"="+t};getProperty=function(n,t){var f=null,i=null,r,u;if(n&&(i=n.split(".")),i)if(i.length>1){for(r=null,r=t[i[0]],u=1;u<i.length;u++)i[u]&&(r=r?r[i[u]]:"");f=r}else f=t[n];return f};applyNumberFormat=function(n,t,i,r,u,f){var s=0,o="",e=t,c=i,l=r,a,h;for(typeof n=="number"&&(n=parseFloat(n).toFixed(e)),n=n+"",a=n[0]=="-",n=n.getNumbers(),e>0&&n.length<=e&&(n=n.padLeft(e+1,"0")),h=n.length-1;h>=0;h--)c&&e>0&&s==e?o=c+o:l&&s>e&&(s-e)%3==0&&(o=l+o),o=n[h]+o,s++;return(u?u:"")+(a?"-":"")+o+(f?f:"")};removeNumberFormat=function(n,t,i,r,u){return n?(n=n.replace(new RegExp("["+i+"]","gi"),""),n=n.replace(t,"."),n=n.replace(r,""),n=n.replace(u,""),parseFloat(n)):null};showBubble=function(n,t,i,r,u,f){var s=r.split("-")[0],o=0,e;return $(".nc-bubble-wrapper."+r).each(function(){o=this.offsetTop+this.offsetHeight+6}),e=$("<div>",{"class":"alert alert-dismissible fade show nc-bubble-wrapper",role:"alert"}),e.addClass(i?i:"alert-info"),e.addClass(r?r:"top-right"),e.addClass(u?u:"slideUp"),e.append(n?"<h4 class='alert-heading' />"+n+"<h4>":""),e.append(n?"<p>"+t+"<\/p>":t),e.append("<button type='button' class='close' data-dismiss='alert' aria-label='Close' ><span aria-hidden='true'>&times;<\/span><\/button>"),$("body").append(e),e.css(s,o+"px"),setTimeout(function(){e.addClass("active");setTimeout(function(){e.fadeOut("fast",function(){e.remove()})},f*1e3)},1),!1};isMobile=function(){var n=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n=!0)}(navigator.userAgent||navigator.vendor||window.opera),n};isMobileTablet=function(){var n=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n=!0)}(navigator.userAgent||navigator.vendor||window.opera),n};$.fn.disable=function(n){this.each(function(){n?$(this).attr("disabled","disabled"):$(this).removeAttr("disabled")})};$.fn.enableAll=function(){_enableDisableAll(this,!1)};$.fn.disableAll=function(){_enableDisableAll(this,!0)};_enableDisableAll=function(n,t){n.each(function(){var f=$(this)[0],r=f.elements,u,n;for(i=0;i<r.length;i++){u=r[i].type.toLowerCase();switch(u){case"text":case"password":case"textarea":case"radio":case"button":case"submit":case"file":case"checkbox":case"select":case"select-one":case"select-multiple":case"select-multi":n=$(r[i]);n.removeClass("input-validation-error");t?n.prop("disabled",!0):n.removeAttr("disabled","disabled")}}})};$.fn.elapsedTime=function(n){return this.each(function(){var t=0;$(this).is("div,li,a,span,label,h2,h3,h4,p")?(t=n?n:$(this).html(),$(this).html(elapsedTime(parseInt(t,10)))):(t=n?n:$(this).val(),$(this).val(elapsedTime(parseInt(t,10))))})};$.fn.onlyNumbers=function(){return this.each(function(){$(this).on("input",function(){var n=this.value.replace(/\D/g,"");this.value=n})})};$.fn.valid=function(){this.each(function(){})};$.fn.clearForm=function(){var n=$("*[data-property]",this),t;for(i=0;i<n.length;i++)if(field_type=$(n[i]).is("div,li,a,span,label,h2,h3,h4,p")?"other":n[i].type.toLowerCase(),$(n[i]).removeClass("input-validation-error"),!$(n[i]).hasClass("nc-combo-input-search")&&!$(n[i]).hasClass("nc-combo-input"))switch(field_type){case"text":case"password":case"textarea":case"hidden":$(n[i]).val("");break;case"file":n[i].value="";$(n[i]).change();break;case"radio":$(n[i]).attr("checked")=="checked"&&$(n[i]).prop("checked",!0);break;case"checkbox":$(n[i]).attr("checked")=="checked"?$(n[i]).prop("checked",!0):$(n[i]).prop("checked",!1);break;case"select-one":if($(n[i]).hasClass("ninjaSuggest")){$(n[i]).val("");break}t=$("option[selected=selected]",n[i]).val();t!=undefined?$(n[i]).val(t):$(n[i]).val($("option:first",n[i]).val());break;case"select-multi":case"select-multiple":t=$("option[selected=selected]",n[i]).map(function(){return this.value});t!=undefined?$(n[i]).val(t):$(n[i]).val("");break;case"other":$(n[i]).html("")}};$.fn.writeForm=function(n){var t=this;n&&$("*[data-property]",this).not(".no-write").each(function(){var t=$(this),u=t.attr("data-property"),i=n[u],r;i!==undefined&&(r=!0,$(this).is("div,li,a,span,label,h2,h3,h4,p")&&(r=!1),t.hasClass("no-fill")||(t.hasClass("bool")&&(i=i?1:0),typeof _ncore.settings.onWriteForm=="function"&&(i=_ncore.settings.onWriteForm(this,i)),r?this.type==="checkbox"||this.type==="radio"?(t.prop("checked",!1),t.attr("value")?i==t.val()&&t.prop("checked",!0):i==1&&t.prop("checked",!0)):(t.val(i).blur(),t.hasClass("ninjaCombo")&&t.change()):t.html(i)))})};$.fn.readForm=function(n){n||(n={});var t=this;return $("*[data-property],input[name]",t).not(".no-read").each(function(){var r=$(this),u=r.attr("data-property"),i,e,f;if(u=u?u:r.prop("name"),i=r.val(),i!=null&&!$(this).is("div,li,a,span,label,h2,h3,h4,p")){if(i){if(this.type==="checkbox")r.attr("value")?r.is(":checked")||(i=null):i=r.is(":checked");else if(this.type==="radio")i=$("input[name="+r.prop("name")+"]:checked",t).val();else if(this.type==="file"){if(e=r[0].files,r.prop("multiple"))for(f=0;f<e.length;f++)n[u+"-"+f]=r[0].files[f];else n[u]=r[0].files[0];return}r.hasClass("bool")?i=i==1:r.hasClass("integer")?i=parseInt(i,10):r.hasClass("float")&&(i=parseFloat(i));r.hasClass("onlyNumbers")&&(i=getNumbers(i));typeof _ncore.settings.onReadForm=="function"&&(i=_ncore.settings.onReadForm(this,i))}else i=null;n[u]=i}}),n};modelToFormData=function(n){function t(n,i,r){var u,f;if(typeof i=="object")if(i instanceof File)n.append(r,i);else if(i instanceof Array)for(u=0;u<i.length;u++)t(n,i[u],r+"["+u+"]");else for(f in i)t(n,i[f],r?r+"."+f:f);else n.append(r,i)}var i=new FormData;return t(i,n,""),i};execute=function(n,t){t||(t=30);setTimeout(n,t)};callAjaxPost=function(n,t){return callAjax("POST",n,t)};callAjaxGet=function(n,t){return callAjax("GET",n,t)};callAjax=function(n,t,i){var r={},u=n=="POST"?modelToFormData(i):i,f=n=="POST"?!1:"application/json; charset=utf-8";return $.ajax({url:t,type:n,data:u,dataType:"json",processData:n=="GET",async:!1,contentType:f,success:function(n){r=n},error:function(){r.Error=!0;r.Code=9999;r.Menssage="Erro: "+n}}),r};callAjaxPostAsync=function(n,t,i){callAjaxAsync("POST",n,t,i)};callAjaxGetAsync=function(n,t,i){callAjaxAsync("GET",n,t,i)};callAjaxAsync=function(n,t,i,r){var u=n=="POST"?modelToFormData(i):i,f=n=="POST"?!1:"application/json; charset=utf-8";$.ajax({url:t,type:n,data:u,dataType:"json",processData:n=="GET",async:!0,contentType:f,success:function(n){r&&r(n)},error:function(){r&&r({Error:!0,Code:-1,Menssage:"Erro: "+n})}})};$valFn=$.fn.val;$.fn.extend({val:function(){var n=null,r,t,i;for(this.length>0&&(n=[]),r=0;r<this.length;r++)t=$(this[r]),t.hasClass("ninjaCombo")&&(arguments.length?(n=$valFn.apply(this,arguments),t.ninjaComboUpdate()):n.push($valFn.apply(this,arguments))),t.hasClass("nc-masked-money")?arguments.length?(i=t.data("nc-masked-money"),i.fnApplyMaskFormat(arguments[0])):(i=t.data("nc-masked-money"),n.push(removeNumberFormat(t[0].value,i.settings.decimal,i.settings.thousands,"",""))):n=$valFn.apply(this,arguments);return arguments.length?this:n&&n.length==1?n[0]:n}});closePopupControls=function(){$(".nc-popup-ctrls").hide();$(".nc-popup-opened").removeClass("nc-popup-opened")};defaultButton=function(n,t){var r=n.which?n.which:n.keyCode,i;r==13&&(i=$(document.activeElement),i.attr("onclick")||i.is("textarea")||(n.preventDefault(),n.stopPropagation(),t&&t.call()))};blockUI=function(n){var t=$.extend({content:"",speed:""},n),i=$(".nc-block-ui");i.length>0&&$(".nc-block-ui").remove();$("body").append('<div class="nc-block-ui" align="center"><div class="nc-block-ui-bar"><\/div><div class="nc-block-ui-content"><\/div><\/div>');setTimeout(function(){$(".nc-block-ui > .nc-block-ui-bar").addClass(t.speed);$(".nc-block-ui > .nc-block-ui-content").append(t.content);$(".nc-block-ui").fadeIn("fast");$(".nc-block-ui").addClass("active")},10)};unblockUI=function(){var n=$(".nc-block-ui");n.length>0&&n.fadeOut("slow",function(){n.remove()})};
(function(n){n.fn.ninjaCalendar=function(t){if(_ncore==null||_ncore==undefined){console.error("NinjaCore plugins was not referenced");return}var i=n.extend({days:_ncore.settings.days,months:_ncore.settings.months,daysAbbreviated:!0,monthsAbbreviated:!1,firstDay:0,weekendDays:[0,6],dateFormat:_ncore.settings.dateFormat,timeFormat:null,type:["y","m","d"],startType:"d",prevButton:'<i class="fa fa-angle-double-left"><\/i>',nextButton:'<i class="fa fa-angle-double-right"><\/i>',lblClearButton:"Clear",lblTodayButton:"Today",showClearButton:!0,showTodayButton:!0,onSelect:null},t);fnReadDate=function(){for(var v=this.element.value+"",e=this.settings.dateFormat.replace(/([-.,*+?^${}()|[\]\/\\])/g,"\\$1"),s=["d","D","j","l","N","S","w","F","m","M","n","Y","y"],r=[],t=[],i=null,h,u=0;u<s.length;u++)h=e.indexOf(s[u]),h>-1&&r.push({character:s[u],position:h});if(r.sort(function(n,t){return n.position-t.position}),n.each(r,function(n,i){switch(i.character){case"d":t.push("0[1-9]|[12][0-9]|3[01]");break;case"D":t.push("[a-z]{3}");break;case"j":t.push("[1-9]|[12][0-9]|3[01]");break;case"l":t.push("[a-z]+");break;case"N":t.push("[1-7]");break;case"S":t.push("st|nd|rd|th");break;case"w":t.push("[0-6]");break;case"F":t.push("[a-z]+");break;case"m":t.push("0[1-9]|1[012]+");break;case"M":t.push("[a-z]{3}");break;case"n":t.push("[1-9]|1[012]");break;case"Y":t.push("[0-9]{4}");break;case"y":t.push("[0-9]{2}")}}),t.length&&(r.reverse(),n.each(r,function(n,i){e=e.replace(i.character,"("+t[t.length-n-1]+")")}),t=new RegExp("^"+e+"$","ig"),i=t.exec(v))){var y=new Date,a=1,o=1,c=1900,l,f=!0;if(r.reverse(),n.each(r,function(t,r){if(!f)return!0;switch(r.character){case"m":case"n":o=parseInt(i[t+1],10);break;case"d":case"j":a=parseInt(i[t+1],10);break;case"D":case"l":case"F":case"M":l=r.character=="D"||r.character=="l"?this.settings.days:this.settings.months;f=!1;n.each(l,function(n,u){if(f)return!0;if(i[t+1].toLowerCase()==u.substring(0,r.character=="D"||r.character=="M"?3:u.length).toLowerCase()){switch(r.character){case"D":i[t+1]=this.settings.days[n].substring(0,3);break;case"l":i[t+1]=this.settings.days[n];break;case"F":i[t+1]=this.settings.months[n];o=n+1;break;case"M":i[t+1]=this.settings.months[n].substring(0,3);o=n+1}f=!0}});break;case"Y":c=parseInt(i[t+1],10);break;case"y":c=parseInt("19"+i[t+1],10)}}),f)return new Date(c,(o||1)-1,a||1)}return!1};fnGetDateRef=function(n){var t=this.referencedDate,i;return t||(t=new Date),n&&(t=n,this.referencedDate=t),i={},i.currentYear=t.getFullYear(),i.currentMonth=t.getMonth(),i.currentDay=t.getDate(),i.firstDayOfMonth=new Date(t.getFullYear(),t.getMonth(),1),i.firstDayOfWeek=i.firstDayOfMonth.getDay(),i.lastDayOfMonth=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),i};fnShow=function(t){var i,u,f,r;if(t.preventDefault(),t.stopPropagation(),n(".nc-popup-ctrls").hide(),i=n(this.element),!i.prop("disabled")&&!i.prop("readonly")){n(".nc-calendar-list-wrapper").remove();u=n("<div>",{"class":"nc-calendar-list-wrapper nc-popup-ctrls"});this.divWrapper.append(u);this.divContainer=u;this.todayDate=new Date;this.selectedDate=this.todayDate;this.referencedDate=this.todayDate;f=i.val();f&&(r=this.fnReadDate(),r&&(this.selectedDate=r,this.referencedDate=r));this.settings.startType=="y"?this.fnBuildYearCalendar():this.settings.startType=="m"?this.fnBuildMonthCalendar():this.fnBuildDayCalendar();setTimeout(function(){this.divContainer.addClass("active")}.bind(this),100);n(this.divContainer).on("click",function(n){n.stopPropagation();n.preventDefault()})}};fnBuildFooterButtons=function(){var t=n("<table>",{"class":"nc-calendar-footer"}),i,r,u,f;if(t.append("<tbody><tr><\/tr><\/tbody>"),this.settings.showClearButton){i=n("<td>");r=n("<a>",{"class":"nc-calendar-btn nc-calendar-btn-clear",href:"#"}).html(this.settings.lblClearButton);r.on("click",function(){n(this.element).val("")}.bind(this));i.append(r);n("tr",t).append(i)}if(this.settings.showTodayButton){u=n("<td>");f=n("<a>",{"class":"nc-calendar-btn nc-calendar-btn-today",href:"#"}).html(this.settings.lblTodayButton);f.on("click",function(){this.fnSelectDate(new Date)}.bind(this));u.append(f);n("tr",t).append(u)}return(this.settings.showClearButton||this.settings.showTodayButton)&&this.divContainer.append(t),!1};fnBuildYearCalendar=function(t){var i,r,o,s,h,c,l,p,a,v,y,e,f;for(this.divContainer.html(""),dateRef=this.fnGetDateRef(t),i=dateRef.currentYear;i%10!=0;)i--;r=n("<table>",{"class":"nc-calendar-control"});r.append("<tbody><tr><\/tr><\/tbody>");o=n("<td>");s=n("<a>",{"class":"nc-calendar-btn nc-calendar-btn-prev",href:"#"}).html(this.settings.prevButton);s.on("click",function(n){return n.stopPropagation(),n.preventDefault(),this.fnBuildYearCalendar(new Date(i-10,dateRef.currentMonth,1))}.bind(this));h=n("<td>");c=n("<a>",{"class":"nc-calendar-btn nc-calendar-btn-next",href:"#"}).html(this.settings.nextButton);c.on("click",function(n){return n.stopPropagation(),n.preventDefault(),this.fnBuildYearCalendar(new Date(i+10,dateRef.currentMonth,1))}.bind(this));l=n("<td>");p=n("<a>",{"class":"nc-calendar-btn nc-calendar-btn-title",href:"#"}).html(i+" - "+(i+9));o.append(s);h.append(c);l.append(p);n("tr",r).append(o);n("tr",r).append(l);n("tr",r).append(h);this.divContainer.append(r);var w=n("<table>",{"class":"yearCalendar"}),b=n("<tbody>"),u=i;for(a=0;a<3;a++){for(v=n("<tr>"),y=0;y<4;y++){if(e=n("<td>"),f=n("<a>",{href:"#"}),u<=i+9){f.html(u);u==this.selectedDate.getFullYear()&&f.addClass("selected");f.on("click",function(n,t){return this.settings.type.indexOf("m")!=-1?(t.preventDefault(),t.stopPropagation(),this.fnBuildMonthCalendar(n)):this.fnSelectDate(n,t)}.bind(this,new Date(u,dateRef.currentMonth,this.selectedDate.getDate())));e.append(f)}else e.addClass("other-year");v.append(e);u++}b.append(v)}return w.append(b),this.divContainer.append(w),!1};fnBuildMonthCalendar=function(t){var i,o,s,h,c,l,r,a,v,y,f,p,e;this.divContainer.html("");dateRef=this.fnGetDateRef(t);i=n("<table>",{"class":"nc-calendar-control"});i.append("<tbody><tr><\/tr><\/tbody>");o=n("<td>");s=n("<a>",{"class":"nc-calendar-btn nc-calendar-btn-prev",href:"#"}).html(this.settings.prevButton);s.on("click",function(n){return n.stopPropagation(),n.preventDefault(),this.fnBuildMonthCalendar(new Date(dateRef.currentYear-1,dateRef.currentMonth,1))}.bind(this));h=n("<td>");c=n("<a>",{"class":"nc-calendar-btn nc-calendar-btn-next",href:"#"}).html(this.settings.nextButton);c.on("click",function(n){return n.stopPropagation(),n.preventDefault(),this.fnBuildMonthCalendar(new Date(dateRef.currentYear+1,dateRef.currentMonth,1))}.bind(this));if(l=n("<td>"),r=n("<a>",{"class":"nc-calendar-btn nc-calendar-btn-title",href:"#"}).html(dateRef.currentYear),this.settings.type.indexOf("y")!=-1)r.on("click",function(n){return n.stopPropagation(),n.preventDefault(),this.fnBuildYearCalendar(new Date(dateRef.currentYear,dateRef.currentMonth,1))}.bind(this));else r.addClass("disabled");o.append(s);h.append(c);l.append(r);n("tr",i).append(o);n("tr",i).append(l);n("tr",i).append(h);this.divContainer.append(i);var w=n("<table>",{"class":"monthCalendar"}),b=n("<tbody>"),u=0;for(a=0;a<4;a++){for(v=n("<tr>"),y=0;y<3;y++){f=this.settings.months[u];this.settings.daysAbbreviated&&(f=f.substr(0,3));p=n("<td>");e=n("<a>",{href:"#"}).html(f);u==this.selectedDate.getMonth()&&this.selectedDate.getFullYear()==dateRef.currentYear&&e.addClass("selected");e.on("click",function(n,t){return this.settings.type.indexOf("d")!=-1?(t.preventDefault(),t.stopPropagation(),this.fnBuildDayCalendar(n)):this.fnSelectDate(n,t)}.bind(this,new Date(dateRef.currentYear,u,this.selectedDate.getDate())));p.append(e);v.append(p);u++}b.append(v)}return w.append(b),this.divContainer.append(w),!1};fnBuildDayCalendar=function(t){var e,l,a,v,y,p,h,r,c,nt,b,u,i,o,f;this.divContainer.html("");dateRef=this.fnGetDateRef(t);e=n("<table>",{"class":"nc-calendar-control"});e.append("<tbody><tr><\/tr><\/tbody>");l=n("<td>");a=n("<a>",{"class":"nc-calendar-btn nc-calendar-btn-prev",href:"#"}).html(this.settings.prevButton);a.on("click",function(n){return n.stopPropagation(),n.preventDefault(),this.fnBuildDayCalendar(new Date(dateRef.currentYear,dateRef.currentMonth-1,1))}.bind(this));v=n("<td>");y=n("<a>",{"class":"nc-calendar-btn nc-calendar-btn-next",href:"#"}).html(this.settings.nextButton);y.on("click",function(n){return n.stopPropagation(),n.preventDefault(),this.fnBuildDayCalendar(new Date(dateRef.currentYear,dateRef.currentMonth+1,1))}.bind(this));if(p=n("<td>"),h=n("<a>",{"class":"nc-calendar-btn nc-calendar-btn-title",href:"#"}).html(this.settings.months[dateRef.currentMonth]+", "+dateRef.currentYear),this.settings.type.indexOf("m")!=-1)h.on("click",function(n){return n.stopPropagation(),n.preventDefault(),this.fnBuildMonthCalendar(new Date(dateRef.currentYear,dateRef.currentMonth,1))}.bind(this));else h.addClass("disabled");l.append(a);v.append(y);p.append(h);n("tr",e).append(l);n("tr",e).append(p);n("tr",e).append(v);this.divContainer.append(e);var w=n("<table>",{"class":"dayCalendar"}),d=n("<thead>"),g=n("<tbody>"),o=n("<tr>"),tt=this.settings.firstDay;for(i=0;i<7;i++)r=i,r=i+this.settings.firstDay<7?i+this.settings.firstDay:i-7+this.settings.firstDay,c=this.settings.days[r],this.settings.daysAbbreviated&&(c=c.substr(0,3)),nt=n("<th>").html(c),o.append(nt);for(d.append(o),w.append(d),b=!1,u=1,i=0;i<6;i++){for(o=n("<tr>"),f=0;f<7;f++){var k=n("<td>"),s=n("<a>",{href:"#"}),r=f;if(r=f+this.settings.firstDay<7?f+this.settings.firstDay:f-7+this.settings.firstDay,this.settings.weekendDays.indexOf(r)!=-1&&s.addClass("weekend"),r==dateRef.firstDayOfWeek&&(b=!0),b&&u<=dateRef.lastDayOfMonth){s.html(u);u==this.selectedDate.getDate()&&this.selectedDate.getMonth()==dateRef.currentMonth&&s.addClass("selected");u==this.todayDate.getDate()&&this.todayDate.getMonth()==dateRef.currentMonth&&s.addClass("today");s.on("click",function(n,t){return this.fnSelectDate(n,t)}.bind(this,new Date(dateRef.currentYear,dateRef.currentMonth,u)));u++;k.append(s)}else k.addClass("other-month");o.append(k)}g.append(o)}return w.append(g),this.divContainer.append(w),this.fnBuildFooterButtons(),!1};fnSelectDate=function(t,i){if(this.settings.onSelect?r=this.settings.onSelect.bind(this,t,i)():closePopupControls(),!r)var r=dateFormat(t,this.settings);return n(this.element).val(r),!1};this.each(function(){var t,u,r;if(!(n(this).closest("pre").length>0)){t=n(this);t.addClass("nc-binded");u=n("<div>",{"class":"nc-calendar-wrapper"});r={element:this,originalValue:this.value,parent:n(t.parent()),divWrapper:u,settings:i,selectedDate:null,referencedDate:null,todayDate:null,fnShow:fnShow,fnReadDate:fnReadDate,fnGetDateRef:fnGetDateRef,fnBuildDayCalendar:fnBuildDayCalendar,fnBuildMonthCalendar:fnBuildMonthCalendar,fnBuildYearCalendar:fnBuildYearCalendar,fnBuildFooterButtons:fnBuildFooterButtons,fnSelectDate:fnSelectDate};t.after(r.divWrapper);t.appendTo(r.divWrapper);t.on("click",function(n){closePopupControls();this.fnShow(n)}.bind(r));t.on("focus",function(n){closePopupControls();this.fnShow(n)}.bind(r));t.on("keydown",function(n){n.keyCode==_ncore.keyCode.TAB&&closePopupControls()}.bind(r));t.data("ninjaCalendar",r)}});n(document).on("click",function(){closePopupControls()})}})(jQuery);
(function(n){n.fn.ninjaCheck=function(){if(_ncore==null||_ncore==undefined){console.error("NinjaCore plugins was not referenced");return}this.each(function(){var f,t,u,i,o,c,r;if(!(n(this).closest("pre").length>0)&&(f=n(this),!f.hasClass("nc-check"))){f.addClass("nc-check").removeClass("ninjaCheck");var s=n("input[type=radio]",f),h=n("input[type=checkbox]",f),l=n("<div>",{"class":"nc-check form-control "}),e=[];for(t=0;t<s.length;t++)e.push(s[t]);for(t=0;t<h.length;t++)e.push(h[t]);for(t=0;t<e.length;t++)u=n(e[t]),i=n("+label",u),u.prop("id")||(o="nc-check-"+_ncore.uid(),u.prop("id",o),i.prop("for",o)),i&&i.length>0&&(i.appendTo(l),c=i.html(),i.html(""),r=n("<span>"),u[0].type=="checkbox"?(r.append('<i class="on fa fa-check-square-o"><\/i>'),r.append('<i class="off fa fa-square-o"><\/i>')):(r.append('<i class="on fa fa-check-circle"><\/i>'),r.append('<i class="off fa fa-circle-thin"><\/i>')),r.append(c),i.append(r),u.after(i))}})}})(jQuery);
(function(n){n.fn.ninjaCombo=function(t){if(_ncore==null||_ncore==undefined){console.error("NinjaCore plugins was not referenced");return}var i=n.extend({showOnlyMatches:!1,defaultPlaceholder:_ncore.settings.ninjaCombo.defaultPlaceholder,searchPlaceholder:_ncore.settings.ninjaCombo.searchPlaceholder},t);fnUpdateText=function(){var t=[];n("option:selected",this.element).each(function(){var i=n(this);t.push(i.html())});t.length==0?this.input.val(i.defaultPlaceholder):this.input.val(t)};fnGetCheckedValues=function(){var t=[];return n("li.selected",this.divListWrapper).each(function(){t.push(n(this).attr("value"))}),t};fnHighlight=function(){var i=this.element.val(),t=this;n("li",t.ulList).removeClass("selected");n("li",t.ulList).each(function(){var r=n(this),u,f;if(r.attr("value")==i){r.addClass("selected");try{u=r.position().top;f=r.height();t.divList.scrollTop(u-t.divList.height()/2+f)}catch(e){}}})};fnLoadList=function(){var f=this.element.val(),t=this,i,r,u;for(t.ulList.html(""),t.element.is(":disabled")?t.input.attr("disabled","disabled"):t.input.removeAttr("disabled"),i=[],n("optgroup",t.element).each(function(){i.push(this)}),i&&i.length!=0||i.push(t.element[0]),r=0;r<i.length;r++)u=i[r],u.tagName.toLowerCase()=="optgroup"&&t.ulList.append("<li class='nc-combo-group'>"+u.label+"<\/li>"),n("option",u).each(function(){var r=n(this),u=r.val(),e=r.html(),i,f;if((e||u)&&!r.hasClass("nc-opt-hidden")){i=n("<li>",{value:u});f=n("<a>",{href:"#"});i.append(f);r.is(":selected")&&i.addClass("selected");t.isMultiple?r.is(":selected")?f.append('<i class="off fa fa-check-square-o"><\/i>'+e):f.append('<i class="off fa fa-square-o"><\/i>'+e):f.append(e);i.on("click",function(r){if(r.preventDefault(),r.stopPropagation(),t.isMultiple){i.hasClass("selected")?(i.removeClass("selected"),n("i",i).removeClass("fa-check-square-o").addClass("fa-square-o")):(i.addClass("selected"),n("i",i).addClass("fa-check-square-o").removeClass("fa-square-o"));var f=t.fnGetCheckedValues();t.element.val(f);t.element.change()}else t.executarChange=!1,t.element.val(u),t.fnCloseList(),t.currentValue!=u?(t.currentValue=u,t.input.focus(),t.element.change()):t.input.focus()});t.ulList.append(i)}});t.fnUpdateText()};fnOpenList=function(){n("option",this.element).removeClass("nc-opt-hidden");this.strSearch=null;this.fnLoadList();this.divListWrapper.show();this.input.addClass("nc-popup-opened");this.inputSearch.val("");this.inputSearch.focus()};fnCloseList=function(){n("option",this.element).removeClass("nc-opt-hidden");this.divListWrapper.hide();this.input.removeClass("nc-popup-opened")};this.each(function(){var r=n(this),u,e,t,f;if(!(r.closest("pre").length>0)){if(u=n(this).data("ninjaCombo"),u&&u.fnLoadList){u.settings=n.extend({filterType:"anywhere"},i);u.fnLoadList();return}r.hide();r.addClass("ninjaCombo");r.attr("data-value")&&r.val(r.attr("data-value"));r.prop("id")||(e="nc-check-"+_ncore.uid(),r.prop("id",e));t={id:r.attr("id"),element:r,currentValue:r.val(),parent:n(r.parent()),hideSearch:r.hasClass("no-search"),isCheck:r.hasClass("check"),isMultiple:r.attr("multiple")!=null,strSearch:"",settings:n.extend({filterType:"anywhere"},i),fnUpdateText:fnUpdateText,fnGetCheckedValues:fnGetCheckedValues,fnHighlight:fnHighlight,fnLoadList:fnLoadList,fnOpenList:fnOpenList,fnCloseList:fnCloseList};t.divWrapper=n("<div>",{"class":"nc-combo-wrapper"});t.input=n("<input>",{"class":"nc-combo-input form-control",id:"nc-combo-"+t.id});t.divFilterWrapper=n("<div>",{"class":"nc-combo-filter-wrapper"});t.inputSearch=n("<input>",{"class":"nc-combo-input-search form-control",placeholder:i.searchPlaceholder});t.divListWrapper=n("<div>",{"class":"nc-combo-list-wrapper nc-popup-ctrls"});t.divList=n("<div>");t.ulList=n("<ul>",{"class":"nc-combo-list"});t.hideSearch||t.isCheck||(t.divFilterWrapper.append(t.inputSearch),t.divListWrapper.append(t.divFilterWrapper));t.divList.append(t.ulList);t.divListWrapper.append(t.divList);f=n("<div>");f.append(t.divListWrapper);t.divWrapper.append(t.input);t.divWrapper.append(f);t.divWrapper.append("<i class='nc-combo-input-arrow'><\/i>");t.input.attr("placeholder",i.defaultPlaceholder);t.fnUpdateText();t.element.after(t.divWrapper);t.divListWrapper.on("click",function(n){n.stopPropagation()});t.ulList.on("click",function(n){n.stopPropagation()});t.divWrapper.on("click",function(n){n.preventDefault();n.stopPropagation();var t=this;if(t.element.is(":disabled"))return!1;t.input.hasClass("nc-popup-opened")?t.fnCloseList():(closePopupControls(),t.fnLoadList(),t.fnOpenList())}.bind(t));t.input.on("blur",function(){var n=this;n.element.is(":disabled")||n.executarChange&&(n.executarChange=!1,n.currentValue!=this.element.val()&&n.element.change())}.bind(t));t.input.on("focus",function(){var n=this;n.element.is(":disabled")||(n.strSearch="",n.currentValue=n.element.val())}.bind(t));t.input.on("keydown",function(t){var u=t.which?t.which:t.keyCode,i=this,r,s;if(i.element.is(":disabled")){u!=116&&u!=_ncore.keyCode.TAB&&t.preventDefault();return}if(u==_ncore.keyCode.UP||u==_ncore.keyCode.DOWN){t.preventDefault();var f=n("option:not(.nc-opt-hidden)",i.element),o=n("option:selected",i.element),e=o.length>0?o[0].index:0;if(u==_ncore.keyCode.UP&&e>0){for(r=f.length-1;r>=0;r--)if(f[r].index<e){e=f[r].index;break}}else if(u==_ncore.keyCode.DOWN)for(r=0;r<f.length;r++)if(f[r].index>e){e=f[r].index;break}s=n(n("option",i.element)[e]);i.element.val(s.val());i.executarChange=!0}else if(u==_ncore.keyCode.BACKSPACE)t.preventDefault(),i.divListWrapper.is(":visible")||(i.strSearch="",clearTimeout(i.setSearchTimeOut));else if(u==_ncore.keyCode.ESCAPE)i.element.val(i.currentValue),i.executarChange=!1,t.preventDefault();else if(u==_ncore.keyCode.ENTER)if(i.isMultiple&&(!i.isMultiple||i.divListWrapper.is(":visible"))){var o=n(n("li a.active",i.ulList).parent()),h=i.element.val(),c=o.attr("value");h.push(c);i.element.val(h);n("li[value="+c+"] a",i.divListWrapper).addClass("active")}else t.preventDefault(),t.stopPropagation(),i.divWrapper.click(),i.fecharLista=!1;else u==_ncore.keyCode.TAB&&i.divListWrapper.is(":visible")&&i.divWrapper.click()}.bind(t));t.input.on("keypress",function(t){var r=t.which?t.which:t.keyCode,i=this,u,f;if(i.element.is(":disabled")||i.isMultiple){r!=116&&r!=_ncore.keyCode.TAB&&t.preventDefault();return}r!=38&&r!=40&&r!=13&&r!=9&&r!=27&&(i.strSearch+=String.fromCharCode(r),clearTimeout(i.setSearchTimeOut),i.divListWrapper.is(":visible")||(i.setSearchTimeOut=setTimeout(function(){i.strSearch=""},1500)),u=null,i.settings.filterType=="anywhere"?u=new RegExp(n.trim(i.strSearch.removeSpecialChars()),"gi"):i.settings.filterType=="startWith"&&(u=new RegExp("^"+n.trim(i.strSearch.removeSpecialChars()),"gi")),f=i.element.find("option").filter(function(){return u.test(n.trim(n(this).text().removeSpecialChars()))}),i.executarChange=!0,i.element.val(n(f).val()),t.preventDefault())}.bind(t));t.inputSearch.on("click",function(n){n.preventDefault();n.stopPropagation()}.bind(t));t.inputSearch.on("blur",function(){var n=this;n.fecharLista&&(n.fecharLista=!1,n.fnCloseList());n.executarChange&&(n.executarChange=!1,n.currentValue!=n.element.val()&&n.element.change())}.bind(t));t.inputSearch.on("keyup",function(t){var i=this,e=t.which?t.which:t.keyCode,r,s,f,u;if(e==_ncore.keyCode.UP||e==_ncore.keyCode.DOWN){var o=n("option:not(.nc-opt-hidden)",i.element),h=n("option:selected",i.element),f=h.length>0?h[0].index:0;if(e==_ncore.keyCode.UP&&f>0){for(r=o.length-1;r>=0;r--)if(o[r].index<f){f=o[r].index;break}}else if(e==_ncore.keyCode.DOWN)for(r=0;r<o.length;r++)if(o[r].index>f){f=o[r].index;break}u=n(n("option",i.element)[f]);i.element.val(u.val());i.executarChange=!0;i.element.val(u.val());i.fnHighlight();i.executarChange=!0;t.preventDefault()}else e==_ncore.keyCode.ESCAPE?(i.element.val(i.currentValue),i.executarChange=!1,i.fnCloseList(),t.preventDefault(),i.input.focus()):e!=_ncore.keyCode.ENTER&&e!=_ncore.keyCode.TAB&&(i.strSearch=i.inputSearch.val(),s=null,i.settings.filterType=="anywhere"?s=new RegExp(n.trim(i.strSearch.removeSpecialChars()),"gi"):i.settings.filterType=="startWith"&&(s=new RegExp("^"+n.trim(i.strSearch.removeSpecialChars()),"gi")),i.settings.showOnlyMatches?(u=null,f=0,n("option",i.element).removeClass("nc-opt-hidden"),n("option",i.element).each(function(){var t=n(this).text();s.test(n.trim(t.removeSpecialChars()))?(console.log(t+" : true"),n(this).removeClass("nc-opt-hidden"),u||(u=this)):(console.log(t+" : false"),n(this).addClass("nc-opt-hidden"));s.lastIndex=0;f++})):u=i.element.find("option").filter(function(){return s.test(n.trim(n(this).text().removeSpecialChars()))}),i.executarChange=!0,i.element.val(n(u).val()),i.fnHighlight())}.bind(t));t.inputSearch.on("keydown",function(n){var t=this,i=n.which?n.which:n.keyCode;t.fecharLista=!1;i==_ncore.keyCode.TAB&&(t.fecharLista=!0);i==_ncore.keyCode.ENTER&&(n.preventDefault(),n.stopPropagation(),t.executarChange=!1,setTimeout(function(){t.inputCampo.focus()},10),t.fnCloseList(),t.currentValue!=t.element.val()&&t.element.change())}.bind(t));n(document).on("click",function(){closePopupControls()});n(this).data("ninjaCombo",t)}})};n.fn.ninjaComboUpdate=function(){var t=n(this).data("ninjaCombo");t&&t.fnLoadList&&t.fnLoadList()}})(jQuery);
(function(n){n.fn.ninjaGrid=function(t){var i,r;if(_ncore==null||_ncore==undefined){console.error("NinjaCore plugins was not referenced");return}if(i={},i=n.extend({url:null,type:"GET",model:{},dataSource:null,keyColumn:null,columns:null,width:"100%",minHeight:250,maxHeight:0,pageNumber:1,pageSize:15,sortColumn:null,sortOrder:"asc",autoLoad:!0,multiSelect:!1,showPages:!0,showRefresh:!0,showTotal:!0,showFooter:!0,lblFooterPages:_ncore.settings.ninjaGrid.lblFooterPages,lblFooterTotal:_ncore.settings.ninjaGrid.lblFooterTotal,lblFooterFirstPage:_ncore.settings.ninjaGrid.lblFooterFirstPage,lblFooterLastPage:_ncore.settings.ninjaGrid.lblFooterLastPage,lblFooterNextPage:_ncore.settings.ninjaGrid.lblFooterNextPage,lblFooterPrevPage:_ncore.settings.ninjaGrid.lblFooterPrevPage,lblFooterRefresh:_ncore.settings.ninjaGrid.lblFooterRefresh,lblLoading:_ncore.settings.ninjaGrid.lblLoading,lblTotalizeRow:_ncore.settings.ninjaGrid.lblTotalizeRow,onCallback:null,onRowClick:function(){},onRowCreated:function(){},customFormat:_ncore.settings.ninjaGrid.customFormat,buttons:{edit:{text:"",css:"fa fa-pencil"},"delete":{text:"",css:"fa fa-trash"}},roles:function(){return!0},events:{edit:function(){console.error("function event not implemented.")},"delete":function(){console.error("function event not implemented.")}},customize:function(){}},t),i.events)for(r in i.events)i.buttons[r]&&(i.buttons[r].onClick=i.events[r]);i.element=n(this);i.totalPages=1;i.totalRegisters=0;i.selectedRows=[];i.totalRow=[];i.fnBuildHeaders=function(){var l=n("<table>",{"class":"nc-grid-header-table nc-grid-table",cellpadding:0,cellspacing:1}),f,e,o,s,r,u,t,h;if(i.groupedColumns&&i.groupedColumns.length>0){for(f=n("<tr>"),r=0;r<i.groupedColumns.length;r++)i.groupedColumns[r]=n.extend({span:null,align:"left",css:""},i.groupedColumns[r]),t=i.groupedColumns[r],e=n("<th>"),t.span&&e.attr("colspan",t.span),o=n("<div>",{"class":"nc-grid-column"}),o.addClass(t.css),o.html(t.header),n(e).append(o),n(f).append(e);n(f).append(document.createElement("th"));n(l).append(f)}for(s=n("<tr>"),r=0;r<i.columns.length;r++){if(u=n("<th>"),i.columns[r]=n.extend({width:0,headerAlign:"left",css:"",sort:!1},i.columns[r]),t=i.columns[r],t.totalize?i.totalRow.push(n.extend({idx:r,value:0,type:"count",align:"left",condition:null,format:null},t.totalize)):i.totalRow.push(null),t.width&&u.css({minWidth:t.width}),t.headerAlign&&u.css({textAlign:t.headerAlign}),h=n("<div>",{"class":"nc-grid-column "+t.css}),h.html(t.header?t.header:"&nbsp;"),t.sort){u.addClass("sortable");var c=n("<span>",{"class":"sortIcon fa fa-unsorted"}),a=this.element.data("ncSortColumn")?this.element.data("ncSortColumn"):i.sortColumn,v=this.element.data("ncSortOrder")?this.element.data("ncSortOrder"):i.sortOrder;t.property==a&&(c.removeClass("fa-caret-up").removeClass("fa-caret-down").removeClass("fa-unsorted"),v=="asc"?(u.addClass("asc"),c.addClass("fa-caret-up")):(u.addClass("desc"),c.addClass("fa-caret-down")));u.on("click",function(t,i){var u=i.property,r=t.hasClass("asc")?"asc":"desc";return n(".sortable",this.element).removeClass("asc").removeClass("desc"),n(".sortIcon",this.element).removeClass("fa-caret-up").removeClass("fa-caret-down").addClass("fa-unsorted"),n(".sortIcon",t).removeClass("fa-unsorted"),r=="asc"?(n(".sortIcon",t).addClass("fa-caret-down"),t.addClass("desc"),r="desc"):(n(".sortIcon",t).addClass("fa-caret-up"),t.addClass("asc"),r="asc"),this.element.data("ncSortOrder",r),this.element.data("ncSortColumn",u),this.fnLoadData(),!1}.bind(i,u,t));h.append(c)}u.append(h);s.append(u)}s.append("<th class='w-100'><\/th>");l.append(s);i.divHeaderWrapper.html(l)};i.fnBuildBody=function(){var t,r,u;if(i._source){for(t=n("<table>",{"class":"nc-grid-body-table nc-grid-table",cellpadding:0,cellspacing:1}),i._source.enumerate(),r=0;r<i._source.length;r++)u=i._source[r],i.fnCreateRow(t,u);i.fnTotalizeColumns();i.totalRow&&i.totalRow.length>0&&i.fnCreateTotalRow(t);i.divBodyWrapper.html(t);i._hasCheckboxColumn&&n(".nc-grid-checkbox",i.divBodyWrapper).ninjaCheck()}};i.fnTotalizeColumns=function(){var s=!1,r,f,e,n,o,h,t,u;if(i.totalRow&&i.totalRow.length>0){for(r=0;r<i.totalRow.length;r++)i.totalRow[r]!=null&&(i.totalRow[r].value=0);for(f=0;f<i._source.length;f++)for(e=i._source[f],n=0;n<i.columns.length;n++)o=i.columns[n],h=getProperty(o.property,e),o.totalize&&(s=!0,i.totalRow.length>n&&i.totalRow[n]!=null&&(t=i.totalRow[n],u=null,t.type=="count"?u=1:t.type=="sum"&&(u=h),typeof t.condition=="function"?t.condition(e)&&(t.value+=u):t.value+=u))}s||(i.totalRow=null)};i.fnCreateRow=function(t,r){var v=i.keyColumn?getProperty(i.keyColumn,r):r._id,f=n("<tr>"),a,c,u,p,s,w,l,h,b,o,y,e,k;for(f.attr("id","tr-"+v),r._selected&&f.addClass("selected"),i._hasCheckboxColumn=!1,a=0;a<i.columns.length;a++){if(c=n("<td>"),i.columns[a]=n.extend({width:0,align:"left",css:"",sort:!1,format:null},i.columns[a]),u=i.columns[a],p=Object.keys(u),u.width&&c.css({minWidth:u.width}),u.align&&c.css({textAlign:u.align}),s=n("<div>",{"class":"nc-grid-column "+u.css}),u.buttons instanceof Array&&u.buttons.length>0){for(o=0;o<u.buttons.length;o++)if(this.buttons[u.buttons[o]]){if(w=u.buttons[o],l=this.buttons[u.buttons[o]],typeof i.roles=="function"&&!i.roles(u.buttons[o],r))continue;e=n("<button>").html(l.text);e.addClass("no-dblclick nc-grid-btn");w&&e.addClass("nc-grid-button-"+w);l.css&&e.addClass(l.css);l.title&&e.attr("title",l.title).attr("data-toggle","tooltip").attr("data-placement","top");e.on("click",function(n,t,i){return typeof this.onClick=="function"&&this.onClick.bind(n)(t,i),!1}.bind(l,f,r));s.append(e)}c.append(s)}else{if(h=getProperty(u.property,r),b=!1,i.customFormat)for(o=0;o<p.length;o++)typeof i.customFormat[p[o]]=="function"&&(b=!0,s.html(i.customFormat[p[o]](h,r,c,f)));if(!b)if(typeof u.format=="string")(h==null||h==undefined)&&(h=""),s.html((h+"").maskFormat(u.format));else if(typeof u.format=="function")s.html(u.format(h,r,c,f));else if(u.isCheckbox){if(i._hasCheckboxColumn=!0,y=n("<div>",{"class":"nc-grid-checkbox"}),u.autoChecked==!0&&y.addClass("nc-grid-autochecked"),e=n("<input>",{type:"checkbox",id:v?"nc-grid-check-"+v:""}),k=n("<label>",{"for":v?"nc-grid-check-"+v:""}),h==!0&&e.prop("checked","checked"),u.disabled&&(e.prop("disabled",u.disabled),k.prop("disabled",u.disabled)),typeof u.onChange=="function")e.on("change",u.onChange.bind(e,r,c,f));y.append(e);y.append(k);s.append(y)}else u.isDateTime?s.html(dateFormat(h)):u.isDate?s.html(dateFormat(h,{timeFormat:null})):s.html(h);c.append(s)}f.append(c)}if(typeof i.onRowCreated=="function")i.onRowCreated(f,r);f.on("click",function(t,i){if(this.multiSelect||n(".nc-grid-body-table tr",this.element).each(function(){this!=t[0]&&(n(this).removeClass("selected"),n(".nc-grid-autochecked>input[type=checkbox]",this).prop("checked",!1))}),t.hasClass("selected")?(t.removeClass("selected"),n(".nc-grid-autochecked>input[type=checkbox]",this).prop("checked",!1)):(t.addClass("selected"),n(".nc-grid-autochecked>input[type=checkbox]",this).prop("checked",!0)),typeof this.onRowClick=="function")this.onRowClick(t,i);if(typeof this.onRowDoubleClick=="function")this.onRowClick(t,i)}.bind(i,f,r));if(typeof this.onRowDoubleClick=="function")f.on("dblclick",function(t,i,r){if(!n(r.target).hasClass("no-dblclick")&&(this.multiSelect||n(".nc-grid-body-table tr",this.element).removeClass("selected"),t.addClass("selected"),typeof this.onRowDoubleClick=="function"))this.onRowDoubleClick(t,i)}.bind(i,f,r));f.data("ncObject",r);f.append("<td class='w-100'><\/td>");t.append(f)};i.fnCreateTotalRow=function(t){for(var e=n("<tr>",{"class":"nc-grid-body-tr-total"}),h=0,o,u,s,f,r=0;r<i.totalRow.length;r++)if(i.totalRow[r]==null)h++;else break;for(h>0&&e.append('<td align="right" colspan="'+h+'"><div class="nc-grid-column nc-grid-total-0">'+i.lblTotalizeRow+"<\/div><\/td>"),r=h;r<i.totalRow.length;r++)o=n("<td>",{"class":""}),u=i.totalRow[r],u!=null&&(u.align&&o.css({textAlign:u.align}),s=n("<div>",{"class":"nc-grid-column nc-grid-total-"+r}),f=u.value,typeof u.format=="string"?((f==null||f==undefined)&&(f=""),s.html((f+"").maskFormat(u.format))):typeof u.format=="function"?s.html(u.format(f,null,o,e)):s.html(f),o.append(s)),e.append(o);e.append("<td><\/td>");t.append(e)};i.fnBuildFooter=function(){var u,f,e,t;if(i.showFooter){if(u=n("<div>"),i.showRefresh){f=n("<div>",{"class":"nc-grid-footer-refresh"});e=n("<button>",{"class":"nc-grid-btn nc-grid-btn-refresh fa fa-refresh"}).attr("title",i.lblFooterRefresh).attr("data-toggle","tooltip").attr("data-placement","top");e.on("click",function(){return this.pageNumber=1,this.fnUpdate(),!1}.bind(i));f.append(e);i.showTotal&&(t=n("<span>",{"class":"nc-grid-lbl-total"}),t.html(isNull(i.lblFooterTotal,"").replace("{0}","0")),f.append(t));u.append(f)}if(i.showPages){var r=n("<div>",{"class":"nc-grid-footer-pages"}),s=n("<button>",{"class":"nc-grid-btn nc-grid-btn-first fa fa-angle-double-left"}).attr("title",i.lblFooterFirstPage).attr("data-toggle","tooltip").attr("data-placement","top"),h=n("<button>",{"class":"nc-grid-btn nc-grid-btn-prev fa fa-angle-left"}).attr("title",i.lblFooterPrevPage).attr("data-toggle","tooltip").attr("data-placement","top"),c=n("<button>",{"class":"nc-grid-btn nc-grid-btn-next fa fa-angle-right"}).attr("title",i.lblFooterNextPage).attr("data-toggle","tooltip").attr("data-placement","top"),o=n("<button>",{"class":"nc-grid-btn nc-grid-btn-last fa fa-angle-double-right"}).attr("title",i.lblFooterLastPage).attr("data-toggle","tooltip").attr("data-placement","top"),t=n("<span>",{"class":"nc-grid-lbl-pages"});t.html(isNull(i.lblFooterPages,"").replace("{0}","0").replace("{1}","0"));s.on("click",function(){return this.pageNumber=1,this.fnUpdate(),!1}.bind(i));h.on("click",function(){return this.pageNumber>1&&(this.pageNumber=this.pageNumber-1),this.fnUpdate(),!1}.bind(i));c.on("click",function(){return this.pageNumber<this.totalPages&&(this.pageNumber=this.pageNumber+1),this.fnUpdate(),!1}.bind(i));o.on("click",function(){return this.pageNumber=this.totalPages,this.fnUpdate(),!1}.bind(i,o));r.append(s);r.append(h);r.append(t);r.append(c);r.append(o);u.append(r)}u.append("<div class='nc-grid-clear'><\/div>");i.divFooterWrapper.append(u)}};i.fnLoadData=function(){n(".tooltip").remove();setTimeout(function(){var u=i.pageNumber?i.pageNumber:1,t=i.pageSize?i.pageSize:0,f=i.element.data("ncSortOrder")?i.element.data("ncSortOrder"):i.sortOrder,e=i.element.data("ncSortColumn")?i.element.data("ncSortColumn"):i.sortColumn,r;i.url?(i.divOverlay.show(),i.model||(i.model={}),i.model.pageSize=t,i.model.pageNumber=u,i.model.sortOrder=f,i.model.sortColumn=e,n.ajax({url:i.url,type:i.type,data:i.type=="POST"?modelToFormData(i.model):i.model,dataType:"json",async:!0,processData:i.type=="GET",contentType:i.type=="POST"?!1:"application/json; charset=utf-8",success:function(t){if(i.divOverlay.fadeOut("fast"),i.divBodyWrapper.html(""),t&&!t.error)this.dataSource=t.list,this._source=this.dataSource,this.totalPages=this.pageSize>0?Math.ceil(t.total/this.pageSize):1,this.totalRegisters=t.total;else{n(".nc-grid-overlay",i.element).remove();var r=n("<p>",{"class":"nc-grid-error-message"}).html(t.message);i.divBodyWrapper.html(r)}i.fnBuildBody();i.fnUpdateFooter();i.fnLoadCompleted()}.bind(i),error:function(){i.divOverlay.fadeOut("fast");var t=n("<p>",{"class":"nc-grid-error-message"}).html(_ncore.settings.textUnhandledError);i.divBodyWrapper.html(t)}.bind(i)})):(i.divOverlay.hide(),r=i.dataSource.orderBy(e,f),i._source=t>0?r.skipTake(t*(u-1),t):r,i.totalPages=t>0?Math.ceil(r.length/t):1,i.totalRegisters=r.length,i.fnBuildBody(),i.fnUpdateFooter(),i.fnLoadCompleted())},10)};i.fnLoadCompleted=function(){typeof i.onCallback=="function"&&i.onCallback();try{n(".nc-grid-btn",i.element).tooltip()}catch(t){}};i.fnUpdate=function(){i.fnLoadData()};i.fnUpdateFooter=function(){i.showFooter&&(i.showPages&&(n(".nc-grid-btn-first",i.element).disable(!1),n(".nc-grid-btn-prev",i.element).disable(!1),n(".nc-grid-btn-last",i.element).disable(!1),n(".nc-grid-btn-next",i.element).disable(!1)),i.showPages&&(i.pageNumber==1&&(n(".nc-grid-btn-first",i.element).disable(!0),n(".nc-grid-btn-prev",i.element).disable(!0)),i.pageNumber==i.totalPages&&(n(".nc-grid-btn-last",i.element).disable(!0),n(".nc-grid-btn-next",i.element).disable(!0)),n(".nc-grid-lbl-pages",i.element).html(isNull(i.lblFooterPages,"").replace("{0}",i.pageNumber).replace("{1}",i.totalPages))),i.showTotal&&n(".nc-grid-lbl-total",i.element).html(isNull(i.lblFooterTotal,"").replace("{0}",i.totalRegisters)))};i.element.addClass("nc-grid-wrapper");i.element.html("");i.divHeaderWrapper=n("<div>",{"class":"nc-grid-header-wrapper"});i.divBodyWrapper=n("<div>",{"class":"nc-grid-body-wrapper"});i.divFooterWrapper=n("<div>",{"class":"nc-grid-footer-wrapper"});i.divOverlay=n("<div>",{"class":"nc-grid-overlay"}).html("<div><span>"+i.lblLoading+"<\/span><\/div>");i.maxHeight&&i.element.css({maxHeight:i.maxHeight});i.minHeight&&i.element.css({minHeight:i.minHeight});i.element.append(i.divHeaderWrapper);i.element.append(i.divBodyWrapper);i.element.append(i.divFooterWrapper);i.element.append(i.divOverlay);typeof i.customize=="function"&&i.customize();i.fnBuildHeaders();i.fnBuildFooter();i.autoLoad&&i.fnUpdate();try{n(".nc-grid-btn").tooltip()}catch(r){}i.divBodyWrapper.on("scroll",function(){var t=this.divBodyWrapper.scrollLeft();n("table",this.divHeaderWrapper).css({marginLeft:-t})}.bind(i));return n(this).data("ninjaGrid",i),i};n.fn.ninjaGridUpdate=function(t,i){var r=n(this).data("ninjaGrid");r&&(t||(r.element.data("ncSortOrder",r.sortOrder),r.element.data("ncSortColumn",r.sortColumn),r.pageNumber=1),i&&(r.model=i),r.fnUpdate())};n.fn.ninjaGridAdd=function(t){var i=n(this).data("ninjaGrid");i&&t&&(i.dataSource.push(t),i.dataSource.enumerate(),i.fnCreateRow(n("table",i.divBodyWrapper),t),i.fnUpdateFooter())};n.fn.ninjaGridGetSelectedRows=function(){var i=n(this).data("ninjaGrid"),t;if(i)return t=[],n("tr.selected",i.element).each(function(){t.push(n(this).data("ncObject"))}),t};n.fn.ninjaGridTotalize=function(){var t=n(this).data("ninjaGrid");t&&(t.fnTotalizeColumns(),t.totalRow&&(n("tr.nc-grid-body-tr-total",t.divBodyWrapper).remove(),t.fnCreateTotalRow(n("table",t.divBodyWrapper))))}})(jQuery);
(function(n){ninjaModal=function(t){var i=n.extend({width:0,size:"",css:null,title:"",html:"",element:null,verticalPosition:"",contentAlign:"",buttonsAlign:"right",showCloseButton:!0,buttons:[{name:"button_1",text:"Ok",css:"btn",callback:null}],onLoad:null,onClose:null},t),f,r,e,u;if(i.loadButtons=function(){var t=this,f,u,r,i;for(t.divFooter.html(""),f=null,u=0;u<t.buttons.length;u++){if(r=n.extend({name:"button_"+(u+1),text:"Ok",css:"btn",callback:null},t.buttons[u]),i=n("<button>",{"class":r.css}),i.html(r.text),typeof r.callback=="function")i.on("click",function(n){return this.callback(n)}.bind(r,t));else i.click(t.close);t.divFooter.append(i);t[r.name]=i;f=i}return f},i.divWrapper=n("<div>",{"class":"nc-modal modal "+(i.css?i.css:""),role:"dialog",tabindex:-1}),i.divWrapperContent=n("<div>",{"class":"modal-dialog "+i.size+" "+(i.verticalPosition=="center"?"modal-dialog-centered":""),role:"document"}),i.width&&parseInt(i.width)>0&&i.divWrapperContent.css("min-width",parseInt(i.width)+"px"),i.divContent=n("<div>",{"class":"modal-content"}),i.divHeader=n("<div>",{"class":"modal-header"}),i.divBody=n("<div>",{"class":"modal-body"}),i.divFooter=n("<div>",{"class":"modal-footer"}),i.closeButton=n("<a>",{"class":"close",href:"#"}).html('<span aria-hidden="true">&times;<\/span>'),i.close=function(){i.element&&i.divBody.children().appendTo(i.element);i.divWrapper.modal("hide")},f=n("body"),f.prepend(i.divWrapper),i.divWrapper.append(i.divWrapperContent),i.divWrapperContent.append(i.divContent),i.divContent.append(i.divHeader),i.divContent.append(i.divBody),r=parseInt(n(".nc-modal:last").css("zIndex"),10),r?r+=2:r=1050,i.divWrapper.css({zIndex:r}),e=n("<h5>",{"class":"modal-title"}).html(i.title),i.divHeader.append(e),i.showCloseButton){i.divHeader.append(i.closeButton);i.closeButton.on("click",function(){(typeof i.onClose!="function"||i.onClose())&&i.close()})}i.element?n(i.element).children().appendTo(i.divBody):i.html&&i.divBody.html(i.html.replace(/\n/g,"<br />"));i.divContent.append(i.divFooter);i.buttonsAlign&&(i.buttonsAlign=="center"?i.divFooter.addClass("justify-content-center"):i.buttonsAlign=="left"?i.divFooter.addClass("justify-content-start"):i.divFooter.addClass("justify-content-end"));u=i.loadButtons();try{n(i.divWrapper).draggable({handle:"h5.modal-title"})}catch(o){console.error("[modal draggable] : no reference founded to jquery.ui")}u&&u.focus();i.divWrapper.on("show.bs.modal",function(){setTimeout(function(){var i=1049,t=1;n(".modal-backdrop").each(function(){var r=n(this);r.css({zIndex:i+t});t=t+2})},50)});i.divWrapper.on("shown.bs.modal",function(){typeof i.onLoad=="function"&&i.onLoad()});i.divWrapper.on("hide.bs.modal",function(){n(this).remove()});return i.divWrapper.modal(),i.divWrapper.data("ncmodal",i),i}})(jQuery);
(function(n){n.fn.ninjaMask=function(t,i){if(_ncore==null||_ncore==undefined){console.error("NinjaCore plugins was not referenced");return}t&&this.each(function(){var u=n(this),r={};r.element=this;r.settings=n.extend({mask:t,placeholder:null,charMask:"_",clear:!0,patterns:_ncore.settings.maskPatterns,onBlur:null},i);r.onFocus=function(){var n=this.element.value;n==""||n==undefined?this.element.value=this.displayedMask:this.fnApplyMaskFormat(n);this.element.selectionStart=0;this.element.selectionEnd=this.element.value.length};r.fnClearOptionalChars=function(){var t=this.element.value,r,i,n,f,u;if(t==this.displayedMask&&(t=""),this.settings.clear){if(r=this.settings.mask.indexOf("?")-1,r>-1){for(i=this.displayedMask.length,n=this.displayedMask.length-1;n>r;n--)t[n]==this.settings.charMask?i=n:(f=this.settings.mask.replace(/\?/g,"")[n],u=this.settings.patterns[f],u?new RegExp(u,"g").test(t[n])||(i=n):i==n+1&&(i=n));t=t.substr(0,i)}t.indexOf(this.settings.charMask)>-1&&(t="")}this.element.value=t};r.onBlur=function(){this.fnApplyMaskFormat(this.element.value);this.fnClearOptionalChars();typeof this.settings.onBlur=="function"&&this.settings.onBlur.bind(this)();this.originalValue!=this.element.value&&(this.originalValue=this.element.value,n(this.element).change())};r.onPaste=function(n){var t=n.originalEvent.clipboardData.getData("text");n.preventDefault();this.fnApplyMaskFormat(t)};r.onKeyDown=function(t){var c,l;if(!n(this.element).prop("readonly")){t=t||window.event;var h=t.which||t.charCode||t.keyCode,o=String.fromCharCode(h),s=t.key,r=this.element.value,u=null,i=this.element.selectionStart,f=this.element.selectionEnd,e=i,a=f;switch(h){case _ncore.keyCode.TAB:case _ncore.keyCode.HOME:case _ncore.keyCode.END:case _ncore.keyCode.RIGHT:case _ncore.keyCode.LEFT:case _ncore.keyCode.UP:case _ncore.keyCode.DOWN:break;case _ncore.keyCode.ESCAPE:t.preventDefault();this.element.value=this.originalValue;break;case _ncore.keyCode.BACKSPACE:if(t.preventDefault(),t.stopPropagation(),o=this.displayedMask[i],this.element.selectionStart==this.element.selectionEnd){if(i=this.fnCheckPrevCaretPosition(i),i<0)return;o=this.displayedMask[i];u=r.substr(0,i)+o+r.substr(i+1);e=i}else u=r.substr(0,i)+this.displayedMask.substr(i,f-i)+r.substr(f),e=i;break;case _ncore.keyCode.DELETE:if(t.preventDefault(),t.stopPropagation(),o=this.displayedMask[i],this.element.selectionStart==this.element.selectionEnd){if(i=this.fnCheckNextCaretPosition(i),i<0)return;o=this.displayedMask[i];u=r.substr(0,i)+o+r.substr(i+1);e=i+1}else u=r.substr(0,i)+this.displayedMask.substr(i,f-i)+r.substr(f),e=i;break;default:if(t.stopPropagation(),i=this.fnCheckNextCaretPosition(i),i<0)return;if(c=this.settings.mask.replace(/\?/g,"")[i],l=this.settings.patterns[c],s.length!=1||!new RegExp(l,"g").test(s))return;this.element.selectionStart==this.element.selectionEnd?u=r.substr(0,i)+s+r.substr(i+1):(u=r.substr(0,i)+this.displayedMask.substr(i,f-i)+r.substr(f),u=u.substr(0,i)+s+u.substr(i+1));e=i+1}u&&(this.element.value=u,this.element.selectionStart=e,this.element.selectionEnd=e)}};r.fnCheckPrevCaretPosition=function(n){for(n--;n>0&&this.displayedMask[n]!=this.settings.charMask;)n--;return n<0?-1:n};r.fnCheckNextCaretPosition=function(n){while(this.displayedMask[n]!=this.settings.charMask&&n<this.displayedMask.length)n++;return n==this.displayedMask.length?-1:n};r.fnApplyMaskFormat=function(n){for(var t=0,i="",e,r=0;r<this.settings.mask.replace(/\?/g,"").length;r++){var u=this.displayedMask[r],f=n[t],s=this.settings.mask.replace(/\?/g,"")[r],o=this.settings.patterns[s];if(u==f){i+=u;t++;continue}if(t>=n.length)i+=u;else if(o)for(e=!1;!e&&t<n.length;)t++,new RegExp(o,"g").test(f)?(i+=f,e=!0):f=n[t];else i+=u,f==u&&t++}this.element.value=i};r.fnApplyNewMaskFormat=function(n){var t=this.element.value;this.settings.mask=n;this.initializeMask();this.fnApplyMaskFormat(t);this.fnClearOptionalChars()};r.initializeMask=function(){this.displayedMask=this.settings.mask.replace(/\?/g,"");for(var n in this.settings.patterns)this.settings.patterns.hasOwnProperty(n)&&(this.displayedMask=this.displayedMask.replace(new RegExp("\\"+n,"g"),this.settings.charMask))};r.originalValue=r.element.value;u.hasClass("nc-masked")?(r.initializeMask(),u.off("focus"),u.off("blur"),u.off("keydown"),u.off("paste")):(u.addClass("nc-masked"),r.initializeMask());r.settings.placeholder&&u.attr("placeholder",r.settings.placeholder);u.on("focus",function(){this.onFocus()}.bind(r));u.on("blur",function(){this.onBlur()}.bind(r));u.on("keydown",function(n){this.onKeyDown(n)}.bind(r));u.on("keypress",function(){return!1}.bind(r));u.on("paste",function(n){this.onPaste(n)}.bind(r))})}})(jQuery);
(function(n){n.fn.ninjaMaskMoney=function(t){if(_ncore==null||_ncore==undefined){console.error("NinjaCore plugins was not referenced");return}this.each(function(){var r=n(this),i={};i.element=this;i.settings=n.extend({thousands:",",decimal:".",precision:2,allowZero:!0,allowNegative:!1,onBlur:null},t);i.onFocus=function(){var n=this.element.value;(n==""||n==undefined)&&(n=0);this.fnApplyMaskFormat(n);this.element.selectionStart=0;this.element.selectionEnd=this.element.value.length};i.onBlur=function(){if(this.fnApplyMaskFormat(this.element.value),!this.settings.allowZero){var n=this.element.value,t=this.fnApplyMaskFormat(0,!0);n&&n!=t||(this.element.value="")}};i.onPaste=function(n){var t=n.originalEvent.clipboardData.getData("text");n.preventDefault();this.fnApplyMaskFormat(t)};i.onKeyDown=function(n){var t=n.which?n.which:n.keyCode;switch(t){case _ncore.keyCode.BACKSPACE:case _ncore.keyCode.DELETE:n.preventDefault();this.onKeyPress(n)}};i.onKeyPress=function(t){var f;if(t.preventDefault(),!n(this.element).prop("readonly")){var o=t.which?t.which:t.keyCode,s=String.fromCharCode(o),i=this.element.value,u=this.element.selectionStart,r=this.element.selectionEnd,e=r,h=i.length,c=r==i.length;switch(o){case 45:t.preventDefault();this.settings.allowNegative&&i!=""&&(i=i[0]=="-"?i.substr(1,i.length):"-"+i);break;case _ncore.keyCode.BACKSPACE:t.preventDefault();i=i.substr(0,u-1)+i.substr(r);break;case _ncore.keyCode.DELETE:t.preventDefault();i=i.substr(0,u)+i.substr(r+1);r=r+1;break;default:if(f=n(this.element).prop("maxlength"),f=f?f:12,u==r&&i.length>=f)return;new RegExp(/\d/,"g").test(s)&&(e=u!=r?r:r+1,i=i.substr(0,u)+s+i.substr(r),i[0]=="0"&&u>0&&(i=i.substr(1,i.length-1),u=u-1,r=r-1))}this.fnApplyMaskFormat(i);c?(this.element.selectionStart=this.element.value.length,this.element.selectionEnd=this.element.value.length):(e=h!=this.element.value.length?r-(h-this.element.value.length):r,this.element.selectionStart=e,this.element.selectionEnd=e)}};i.fnApplyMaskFormat=function(n,t){var i=this.settings.precision,r=this.settings.decimal,u=this.settings.thousands;if(n=isNull(n,0),n=applyNumberFormat(n,i,r,u,null,null),t)return n;this.element.value=n};i.originalValue=i.element.value;i.caret=0;i.originalValue==""||i.originalValue==undefined?i.settings.allowZero&&i.settings.defaultZero&&i.fnApplyMaskFormat(0):i.fnApplyMaskFormat(i.element.value);r.attr("maxlength")||r.attr("maxlength",12);r.hasClass("nc-masked-money")?(r.off("focus"),r.off("blur"),r.off("keydown"),r.off("paste"),r.off("keypress")):(r.addClass("nc-masked-money"),r.css({"text-align":"right"}));r.on("focus",function(){this.onFocus()}.bind(i));r.on("blur",function(){this.onBlur()}.bind(i));r.on("paste",function(n){this.onPaste(n)}.bind(i));r.on("keydown",function(n){this.onKeyDown(n)}.bind(i));r.on("keypress",function(n){this.onKeyPress(n)}.bind(i));n(this).data("nc-masked-money",i)})}})(jQuery);
(function(n){n.fn.ninjaUpload=function(t){if(_ncore==null||_ncore==undefined){console.error("NinjaCore plugins was not referenced");return}var i=n.extend({lblDefaultText:_ncore.settings.ninjaUpload.lblDefaultText,onChange:null},t);this.each(function(){var t=n(this),r,u;if(t.hasClass("nc-binded")){console.error("ninjaUpload already binded!");return}t.addClass("nc-binded");r=n("<div>",{"class":"nc-upload-wrapper "+t[0].className}).removeClass("ninjaUpload");u=n("<a>",{href:"#"}).html(i.lblDefaultText);t.after(r);t.appendTo(r);u.appendTo(r);u.on("click",function(n){return n.stopPropagation(),n.preventDefault(),t.click(),!1});t.on("change",function(){var r=n(this).parent(),t=this.value;t||(t=i.lblDefaultText);n("a",r).html(t).prop("title",t);this.focus();typeof i.onChange=="function"&&i.onChange.bind(this)()});t.removeClass("form-control")})}})(jQuery);
(function(n){if(typeof _ncore=="undefined"||_ncore==undefined){console.error("ninjacore reference not found");return}n(document).on("change",".input-validation-error",function(){n(this).valid()});_ncore.validation={settings:{errorClass:"input-validation-error"},addMethod:function(n,t){_ncore.validation.methods[n]=t},methods:{required:function(n){return n&&n.length>0},integer:function(n){return!n||/^-?\d+$/.test(n)},alphanumeric:function(n){return!n||/^\w+$/i.test(n)},email:function(n){return!n||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(n)},url:function(n){return!n||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(n)},date:function(n){return!n||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n){return!n||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(n)},number:function(n){return!n||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n){return!n||/^\d+$/.test(n)},minlength:function(n,t,i){return!n||n.length>=i},maxlength:function(n,t,i){return!n||n.length<=i},rangelength:function(n,t,i){return!n||n.length>=i[0]&&n.length<=i[1]},min:function(n,t,i){return!n||n>=i},max:function(n,t,i){return!n||n<=i},range:function(n,t,i){return!n||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n("#"+r),f;return u.length>0?(f=u.val(),t===u.val()):!1}},fnGetMethodsNames:function(){var n=[],t;for(t in this.methods)n.push(t);return n},fnGetParameters:function(t,i){for(var e=[],o=new RegExp("(\\W|)"+i+"(-\\w*)+","ig"),u=o.exec(t.className),f,r;u!=null;){for(f=n.trim(u[0]).split("-"),r=1;r<f.length;r++)e.push(f[r]);u=o.exec(t.className)}return e},fnValidate:function(t){var o=n(t),s=t.className,i=this.fnGetMethodsNames(),f=!0,r;if(i&&i.length>0)for(r=0;r<i.length;r++){var u=i[r],h=new RegExp(u),e=s.match(h,"g");if(e&&e.length>0){var c=t.value,l=this.fnGetParameters(t,u),a=this.methods[u](c,t,l);if(!a){o.addClass(this.settings.errorClass);f=!1;break}}}return f},fnClearValidation:function(t){n("."+this.settings.errorClass,t).removeClass(this.settings.errorClass);n(t).hasClass(this.settings.errorClass)&&n(t).removeClass(this.settings.errorClass)}};n.fn.valid=function(t){var r=!0,u=n.extend({},t);return this.each(function(){var t=this,u,f;if(_ncore.validation.fnClearValidation(t),n(t).is("form"))for(u=t.elements,i=0;i<u.length;i++)f=u[i].type.toLowerCase(),_ncore.validation.fnValidate(u[i])||(r=!1);else _ncore.validation.fnValidate(t)||(r=!1);n(".form-control",t).each(function(){var t=n(this);t.hasClass(_ncore.validation.settings.errorClass)||n("."+_ncore.validation.settings.errorClass,t).length>0?t.addClass(_ncore.validation.settings.errorClass):t.removeClass(_ncore.validation.settings.errorClass)})}),r}})(jQuery);
